<div id="post-list" infinite-scroll="getConfessions()" infinite-scroll-disabled="loadingConfessions || !doLoadMoreConfessions" infinite-scroll-distance="1"><div class="alert" ng-show="view === 'favourites' && fbUser.getAccessToken() === '' && !loadingConfessions">Please log in to view your favourites or <a href="/#!home">go back to the main page</a>.</div><div class="alert" ng-show="view !== 'favourites' && (confessions.length === 0) && !loadingConfessions">No confessions to display. <a href="/#!submit">How about submitting your own?</a></div><div ng-hide="view === 'favourites' && fbUser.getAccessToken() === ''" class="post" ng-repeat="confession in confessions"><div class="post-header"><span ng-show="confession.categories.length === 0">No Category</span> <span ng-repeat="category in confession.categories"><a href="/#!category/{{category.confession_category_id}}">{{category.confession_category}}</a>{{$last ? '' : ', '}}</span><div class="share-social-media">SHARE: <a href="https://twitter.com/intent/tweet?url=http%3A%2F%2Fnuswhispers.com%2F%23!confession%2F{{confession.confession_id}}" target="_blank" class="btn btn-social-media"><span class="typcn typcn-social-twitter"></span></a> <a ng-click="shareConfessionFB(confession.confession_id)" target="_blank" class="btn btn-social-media"><span class="typcn typcn-social-facebook"></span></a></div></div><div class="post-content"><img class="post-image" ng-hide="confession.images == null" ng-src="{{confession.images}}"><div class="post-text" ng-bind-html="processConfessionContent(confession.content)"></div><div class="post-facebook-link"><a ng-href="https://www.facebook.com/permalink.php?story_fbid={{confession.fb_post_id}}&id={{fbUser.getPageID()}}" target="_blank">View on Facebook</a></div></div><div class="post-footer"><span class="typcn typcn-watch"></span><span am-time-ago="confession.updated_at_timestamp" am-preprocess="unix" class="post-time"></span><div class="post-media-summary"><a href="/#!home" class="tweets-count liked" target="_blank">8</a> <a ng-click="confession.show_comments = !confession.show_comments" ng-class="{shown: confession.show_comments}" class="show-comments-btn" tooltip-placement="bottom" tooltip="{{confession.show_comments ? 'Hide Comments' : 'Show Comments'}}">{{confession.facebook_information.comments.summary.total_count}}</a> <a ng-href="https://www.facebook.com/permalink.php?story_fbid={{confession.fb_post_id}}&id={{fbUser.getPageID()}}" ng-class="{liked: confessionIsLiked(confession)}" class="fb-likes" target="_blank" tooltip-placement="bottom" tooltip="View on Facebook to like">{{confession.facebook_information.likes.summary.total_count}}</a> <a ng-click="toggleFavouriteConfession(confession)" ng-class="{liked: confessionIsFavourited(confession)}" class="favs-count" target="_blank" tooltip-placement="bottom" tooltip="{{fbUser.getAccessToken() === '' ? 'Login to Favourite' : ''}}">{{confession.favourites.length}}</a></div></div><div class="post-comment-list" collapse="!confession.show_comments"><div ng-repeat="comment in confession.facebook_information.comments.data" class="post-comment"><a class="media-left" href="https://www.facebook.com/{{comment.from.id}}" target="_blank"><img ng-src="http://graph.facebook.com/{{comment.from.id}}/picture"></a><div class="media-body"><a href="https://www.facebook.com/{{comment.from.id}}" target="_blank">{{comment.from.name}}</a> - <span class="post-time" am-time-ago="comment.created_time"></span><p>{{comment.message}}</p></div></div><div class="post-comment"><a ng-href="https://www.facebook.com/permalink.php?story_fbid={{confession.fb_post_id}}&id={{fbUser.getPageID()}}" target="_blank">Post a comment on Facebook</a></div></div></div><div ng-show="loadingConfessions" class="loading"></div></div>